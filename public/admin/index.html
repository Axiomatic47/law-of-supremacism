<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
  </head>
  <body>
    <script src="https://unpkg.com/netlify-cms@^2.10.192/dist/netlify-cms.js"></script>
    <script>
      const config = {
        backend: {
          name: "test-repo"
        },
        local_backend: true,
        media_folder: "public/uploads",
        public_folder: "/uploads",
        collections: [
          {
            name: "manuscript",
            label: "Manuscript & White Papers",
            folder: "content/manuscript",
            create: true,
            format: "json",
            identifier_field: "title",
            fields: [
              {label: "Title", name: "title", widget: "string"},
              {label: "Collection Type", name: "collection_type", widget: "hidden", default: "manuscript"},
              {
                label: "Sections",
                name: "sections",
                widget: "list",
                allow_add: true,
                fields: [
                  {label: "Title", name: "title", widget: "string"},
                  {label: "Featured", name: "featured", widget: "boolean", default: false},
                  {
                    label: "Basic Content (Level 1)",
                    name: "content_level_1",
                    widget: "markdown",
                    required: false
                  },
                  {
                    label: "Intermediate Content (Level 3)",
                    name: "content_level_3",
                    widget: "markdown"
                  },
                  {
                    label: "Advanced Content (Level 5)",
                    name: "content_level_5",
                    widget: "markdown",
                    required: false
                  }
                ]
              }
            ]
          },
          {
            name: "data",
            label: "Data & Evidence",
            folder: "content/data",
            create: true,
            format: "json",
            identifier_field: "title",
            fields: [
              {label: "Title", name: "title", widget: "string"},
              {label: "Collection Type", name: "collection_type", widget: "hidden", default: "data"},
              {
                label: "Sections",
                name: "sections",
                widget: "list",
                allow_add: true,
                fields: [
                  {label: "Title", name: "title", widget: "string"},
                  {label: "Featured", name: "featured", widget: "boolean", default: false},
                  {
                    label: "Basic Content (Level 1)",
                    name: "content_level_1",
                    widget: "markdown",
                    required: false
                  },
                  {
                    label: "Intermediate Content (Level 3)",
                    name: "content_level_3",
                    widget: "markdown"
                  },
                  {
                    label: "Advanced Content (Level 5)",
                    name: "content_level_5",
                    widget: "markdown",
                    required: false
                  }
                ]
              }
            ]
          }
        ]
      };

      // Initialize the CMS
      CMS.init({ config });
    </script>
  </body>
</html>